(this.webpackJsonpappdk=this.webpackJsonpappdk||[]).push([[0],{23:function(e,a,t){e.exports=t(35)},28:function(e,a,t){},29:function(e,a,t){},35:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(20),c=t.n(r),i=(t(28),t(29),t(12)),l=t(1),s=t(21),d=t(6),m=t(7),u=t(10),p=t(9),f=t(8),E=function(e){Object(p.a)(t,e);var a=Object(f.a)(t);function t(e){var n;return Object(d.a)(this,t),(n=a.call(this,e)).state={name:"",password:"",loginErrors:""},n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n.handleChange=n.handleChange.bind(Object(u.a)(n)),n}return Object(m.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(s.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var a=this.state,t=a.name,n=a.password,o={};o.login=t,o.pass=n;var r=JSON.stringify(o);fetch("http://www.kellerhoff.com.ar:84/api/Authenticate",{method:"POST",headers:{"Content-Type":"application/json"},body:r}).then((function(e){return e.json()})).then((function(e){alert("OK"+e.apNombre)}))}},{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("h3",null,"Inicio sesion"),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Usuario"),o.a.createElement("input",{type:"text",name:"user",className:"form-control",placeholder:"Ingrese usuario",value:this.state.user,onChange:this.handleChange,required:!0})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Contrase\xf1a"),o.a.createElement("input",{type:"password",name:"password",className:"form-control",placeholder:"Ingrese contrase\xf1a",value:this.state.password,onChange:this.handleChange,required:!0})),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"custom-control custom-checkbox"},o.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"customCheck1"}),o.a.createElement("label",{className:"custom-control-label",htmlFor:"customCheck1"},"Remember me"))),o.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block"},"Login")))}}]),t}(n.Component);function h(e){return"$"+function(e){var a=e.toFixed(2),t=e.toFixed(2),n=!1;if(a){-1!==a.toString().indexOf("-")&&(n=!0);var o=a.toString().replace("-","").split(".");if(o.length>0){o[0].length;for(var r="",c=o[0];c.length>3;)r="."+c.substr(c.length-3)+r,c=c.substring(0,c.length-3);r=c+r,t=void 0==o[1]?r:r+","+o[1]}n&&(t="-"+t)}return t}(e)}function g(e,a){var t=0;if(null===a||void 0===a||""===a)return t;var n=localStorage.getItem("l_pedidos")||"";if(""!==n&&(n=JSON.parse(n),Array.isArray(n)))for(var o=0;o<n.length;o++)if(String(n[o].modulo.id)===String(e.id)&&String(n[o].farmacia.id)===String(a.id)){t=n[o].cantidad;break}return t}function v(e,a){var t=e.precioDescuento;return e.isTieneEnCuentaDescuentoCliente&&null!=a&&""!=a?function(e,a){var t=0,n=a.objProducto;if(n.pro_neto)switch(n.pro_codtpopro){case"M":t=b(a.precioDescuento,n,e.cli_pordesbetmed);break;case"P":case"A":case"V":t=b(a.precioDescuento,n,e.cli_pordesnetos)}else t=b(a.precioDescuento,n,e.cli_PorcentajeDescuentoDeEspecialidadesMedicinalesDirecto);return t}(a.objCliente,e):t}function b(e,a,t){var n=t-a.pro_PorcARestarDelDtoDeCliente;n<0&&(n=0);var o=e;return o*=parseFloat(1)-n/parseFloat(100)}var N=function(e){Object(p.a)(t,e);var a=Object(f.a)(t);function t(e){var n;return Object(d.a)(this,t),(n=a.call(this,e)).refrescarCantidad=function(){var e=n.props.getCantidad(n.props.modulo);n.setState({count:e},(function(){n.RefrescarMontosAhorro()}))},n.onClickAccion=function(e,a){e.preventDefault();var t=n.state.count;if(0===t&&-1===a)return null;t+=a,n.setState({count:t},(function(){n.props.setCantidad(n.props.modulo,t),n.RefrescarMontosAhorro()}))},n.RefrescarMontosAhorro=function(){var e=0,a=0;n.props.modulo.moduloDetalle.forEach((function(t){t.cantidadUnidades>0&&(t.precio>0&&(e+=t.precio*t.cantidadUnidades),t.precioDescuento>0&&(a+=t.precioDescuento*t.cantidadUnidades))}));var t=0,o=0;n.state.count>0&&(t=e*n.state.count,o=t-a*n.state.count),n.setState({montoTotal:t},(function(){n.setState({ahorroTotal:o},(function(){n.props.refreshMontoAhorroGeneral()}))}))},n.state={count:0,ahorroTotal:0,montoTotal:0},n}return Object(m.a)(t,[{key:"componentDidMount",value:function(){this.refrescarCantidad()}},{key:"render",value:function(){var e=this,a=this.props.modulo.moduloDetalle;return o.a.createElement("div",{className:this.props.isPar?"card cardModulo moduloCssPar":"card cardModulo "},o.a.createElement("div",{className:"card-body"},a.length>0&&o.a.createElement("table",{className:"table textTable"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{scope:"col"},"Producto"),o.a.createElement("th",{className:"d-none d-sm-none d-md-table-cell",scope:"col"},"Descripci\xf3n"),o.a.createElement("th",{scope:"col"},"Precio"),o.a.createElement("th",{scope:"col"},"Precio c/ Desc."),o.a.createElement("th",{className:"d-none d-sm-none d-md-table-cell",scope:"col"},"Cant. Unid."))),o.a.createElement("tbody",null,a.map((function(a,t){return o.a.createElement("tr",{key:t},o.a.createElement("td",null,a.producto),o.a.createElement("td",{className:"d-none d-sm-none d-md-table-cell"},a.descripcion),o.a.createElement("td",null,h(a.precio)),o.a.createElement("td",null,h(v(a,e.props.farmacia))),o.a.createElement("td",{className:"d-none d-sm-none d-md-table-cell"},a.cantidadUnidades))}))))),o.a.createElement("div",{className:"card-footer "},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col"},null!=this.props.modulo.cantidadMinimos&&o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text font-weight-bold"},"Cantidad m\xednima:")),o.a.createElement("input",{type:"number",className:"form-control","aria-describedby":"basic-addon1",value:this.props.modulo.cantidadMinimos,readOnly:!0}))),o.a.createElement("div",{className:"col-sm-6"},o.a.createElement("div",{className:" row justify-content-center"},o.a.createElement("div",{className:"input-group col-xs-12 col-sm-10 col-md-8 col-lg-8"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(a){return e.onClickAccion(a,-1)}},"-")),o.a.createElement("input",{type:"number",className:"form-control",placeholder:"Cantidad",value:this.state.count,readOnly:!0}),o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(a){return e.onClickAccion(a,1)}},"+"))))),o.a.createElement("div",{className:"col"},o.a.createElement("div",{className:"input-group "},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text font-weight-bold"},"MONTO TOTAL")),o.a.createElement("input",{type:"text",className:"form-control","aria-describedby":"basic-addon1",readOnly:!0,value:h(this.state.montoTotal)})),o.a.createElement("div",{className:"input-group "},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text font-weight-bold"},"TOTAL AHORRO")),o.a.createElement("input",{type:"text",className:"form-control","aria-describedby":"basic-addon1",readOnly:!0,value:h(this.state.ahorroTotal)}))))))}}]),t}(n.Component),A=function(e){Object(p.a)(t,e);var a=Object(f.a)(t);function t(e){var n;return Object(d.a)(this,t),(n=a.call(this,e)).componentWillMount=function(){n.miMapaRefs=new Map,n.props.modulos.forEach((function(e){n.miMapaRefs.set(e.id,o.a.createRef())}))},n.componentWillUpdate=function(){n.miMapaRefs=new Map,n.props.modulos.forEach((function(e){n.miMapaRefs.set(e.id,o.a.createRef())}))},n.actualizarCantidadEnLosModulos=function(){n.miMapaRefs.forEach((function(e){e.current.refrescarCantidad()}))},n.getMontoTotalGeneral=function(){var e=0;return n.miMapaRefs.forEach((function(a){e+=a.current.state.montoTotal})),e},n.getTotalAhorroGeneral=function(){var e=0;return n.miMapaRefs.forEach((function(a){e+=a.current.state.ahorroTotal})),e},n.refreshMontoAhorroGeneral=function(){n.setState({totalAhorroGeneral:n.getTotalAhorroGeneral()},(function(){n.setState({montoTotalGeneral:n.getMontoTotalGeneral()},(function(){n.props.refreshMontoAhorroGeneral()}))}))},n.setCantidad=function(e,a){var t=n.props.farmacia;if(null!==t&&void 0!==t&&""!==t){var o=localStorage.getItem("l_pedidos")||"",r=!0;if(""!==o&&(o=JSON.parse(o)),Array.isArray(o)){for(var c=0;c<o.length;c++)if(o[c].modulo.id===e.id&&o[c].farmacia.id===t.id){r=!1,o[c].cantidad=a;break}}else o=[];if(r){var i={fechaCreacion:Date.now(),farmacia:t,modulo:e,cantidad:a};o.push(i)}localStorage.setItem("l_pedidos",JSON.stringify(o))}},n.getCantidad=function(e){var a=n.props.farmacia;return""===a?0:g(e,a)},n.state={totalAhorroGeneral:0,montoTotalGeneral:0},n}return Object(m.a)(t,[{key:"render",value:function(){var e=this,a=this.props.modulos;if(0===a.length)return null;return o.a.createElement(o.a.Fragment,null,o.a.createElement(o.a.Fragment,null,a.map((function(a,t){return o.a.createElement(o.a.Fragment,null,o.a.createElement(N,{key:a.id,id:a.id,ref:e.miMapaRefs.get(a.id),isPar:parseInt(t)%2,farmacia:e.props.farmacia,modulo:a,setCantidad:e.setCantidad,getCantidad:e.getCantidad,refreshMontoAhorroGeneral:e.refreshMontoAhorroGeneral}))}))))}}]),t}(n.Component);var O=function(e){var a=Object(n.useRef)(null);return o.a.createElement(o.a.Fragment,null,o.a.createElement("nav",{className:"navbar navbar-light bg-gradient-info"},o.a.createElement("div",{className:"row rowNavbar"},"    ",o.a.createElement("div",{className:"col"},o.a.createElement("form",{onSubmit:function(t){t.preventDefault();var n=a.current.value;e.filtrarModulosApp(n)}},o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{className:"col-sm-2 col-form-label"},"Farmacia"),o.a.createElement("div",{className:"col-sm-10"},o.a.createElement("input",{type:"text",list:"listaFarmacias",className:"form-control",onClick:function(a){a.target.value="",e.handleChange(a)},onChange:e.handleChange}),o.a.createElement("datalist",{id:"listaFarmacias"},o.a.createElement("select",{className:"form-control "},e.farmacias.map((function(e){return o.a.createElement("option",{key:e.id},String(e.id)+" - "+e.nombre)})))))),o.a.createElement("div",{className:"form-inline"},o.a.createElement("input",{ref:a,className:"form-control mr-sm-2 inputUppercase",type:"search",placeholder:"Filtro","aria-label":"Filtro"}),o.a.createElement("button",{className:"btn btn-outline-success my-2 my-sm-0",type:"submit"},"Busqueda")))),o.a.createElement("div",{className:"col"},o.a.createElement("div",{className:"input-group "},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text font-weight-bold"},"MONTO TOTAL GENERAL")),o.a.createElement("input",{type:"text",className:"form-control","aria-describedby":"basic-addon1",readOnly:!0,value:h(e.getMontoTotalGeneral)})),o.a.createElement("div",{className:"input-group "},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text font-weight-bold"},"TOTAL GENERAL AHORRO")),o.a.createElement("input",{type:"text",className:"form-control","aria-describedby":"basic-addon1",readOnly:!0,value:h(e.getTotalAhorroGeneral)}))))))},S=function(e){Object(p.a)(t,e);var a=Object(f.a)(t);function t(e){var n;return Object(d.a)(this,t),(n=a.call(this,e)).cargarDatosInicio_DesdeApi=function(){fetch(n.url+"farmacia?"+new URLSearchParams({ApNombre:"Perez, Nestor"})).then((function(e){return e.json()})).then((function(e){localStorage.setItem("l_farmacias",JSON.stringify(e))})).then((function(){return fetch(n.url+"modulo").then((function(e){return e.json()})).then((function(e){localStorage.setItem("l_modulos",JSON.stringify(e))}))})).then((function(){n.cargarDatosInicio_DesdeLocalStorage()})).catch((function(e){n.cargarDatosInicio_DesdeLocalStorage()}))},n.cargarDatosInicio_DesdeLocalStorage=function(){var e=localStorage.getItem("l_farmacias")||"";""!==e&&(e=JSON.parse(e)),Array.isArray(e)||(e=[]),n.setState({farmacias:e});var a=localStorage.getItem("l_modulos")||"";""!==a&&(a=JSON.parse(a)),Array.isArray(a)||(a=[]),n.setState({modulosOriginal:a},(function(){n.filtrarModulosApp("")}))},n.filtrarModulosApp=function(e){n.setState({filtrado:e},(function(){if(""===n.state.filtrado)n.setState({modulos:n.state.modulosOriginal});else{var e=n.state.modulosOriginal.filter((function(e){return void 0!==e.moduloDetalle.find((function(e){return String(e.producto).toUpperCase().includes(String(n.state.filtrado).toUpperCase())}))}));n.setState({modulos:e})}}))},n.refreshMontoAhorroGeneral_promociones=function(){n.setState({totalAhorroGeneral_promociones:n.elementResultadoModulo.current.state.totalAhorroGeneral},n.setState({montoTotalGeneral_promociones:n.elementResultadoModulo.current.state.montoTotalGeneral}))},n.state={modulosOriginal:[{id:1,cantidadMinimos:2,idLaboratorio:1,laboratorio:null,moduloDetalle:[{id:1,idModulo:1,orden:1,producto:"COLBERT US DEO AER X 250 ML",descripcion:"COLBERT US DEO AER X 250 ML",precio:159.24,precioDescuento:150.24,cantidadUnidades:2},{id:2,idModulo:1,orden:2,producto:"MB FITME BASE N\xba 118 X 30ML",descripcion:"MB FITME BASE N\xba 118 X 30ML",precio:423.45,precioDescuento:403,cantidadUnidades:1}]},{id:2,cantidadMinimos:1,idLaboratorio:2,laboratorio:null,moduloDetalle:[{id:10,idModulo:2,orden:1,producto:"ARCELIGASOL CAP BLANDAS X 60",descripcion:"VOGUE LAB C. MANIAC MATTE ELECTRICA",precio:15024,precioDescuento:2,cantidadUnidades:0},{id:11,idModulo:2,orden:2,producto:"GOICOECHEA CR ULTRA NUTRITIVA X 400 ML",descripcion:"REQUIP PD 8 MG CPR X 28",precio:40300,precioDescuento:1,cantidadUnidades:0},{id:13,idModulo:2,orden:3,producto:"LEVO TIROXINA 112 MCG CPR X 50",descripcion:"PINO COLBERT DEO AER X 150 ML",precio:605,precioDescuento:0,cantidadUnidades:0}]},{id:3,cantidadMinimos:5,idLaboratorio:7,laboratorio:null,moduloDetalle:[{id:6,idModulo:3,orden:1,producto:"DOVE DEO AER ANT. RITUAL ENERG X 150ML",descripcion:"DOVE DEO AER ANT. RITUAL ENERG X 150ML",precio:271.61,precioDescuento:270,cantidadUnidades:1},{id:7,idModulo:3,orden:2,producto:"CARVEDILOL RICHET 12,5 MG CPR X 28",descripcion:"ISSUE COLOR PACK  N 9/1",precio:741.61,precioDescuento:640.25,cantidadUnidades:1},{id:8,idModulo:3,orden:3,producto:"TRANQUINAL 2 MG CPR X 60",descripcion:"TRANQUINAL 2 MG CPR X 60",precio:321.61,precioDescuento:212.61,cantidadUnidades:1},{id:12,idModulo:3,orden:4,producto:null,descripcion:"CAVIAHUE KIT ANTIAGE+HIDRATACION",precio:270050,precioDescuento:1,cantidadUnidades:0},{id:14,idModulo:3,orden:6,producto:"DENTILAC PASTA S/MENTA X 20 GR",descripcion:"TIO NACHO SPRAY ACLARANTE INSTANT.X 245 ML",precio:7061,precioDescuento:3,cantidadUnidades:23},{id:15,idModulo:3,orden:5,producto:"NEUTROGENA BLUE LINE TOAL DESMAQ X 25",descripcion:"MB COL SENS LAB MATTES N\xb0725 TANTALIZI",precio:2e3,precioDescuento:1,cantidadUnidades:0},{id:17,idModulo:3,orden:8,producto:"FRUCTIS OIL REPAIR L COCO P-PEINAR X300GR",descripcion:"MUELITA MORDILLO REFRIGERANTE X 1",precio:261,precioDescuento:1,cantidadUnidades:0}]},{id:4,cantidadMinimos:2,idLaboratorio:7,laboratorio:null,moduloDetalle:[{id:3,idModulo:4,orden:1,producto:"CONTROL K CAP X 60",descripcion:"CONTROL K CAP X 60",precio:2771.61,precioDescuento:2700.5,cantidadUnidades:1},{id:4,idModulo:4,orden:2,producto:"SALICREM BALSAMO SPRAY X 60 ML",descripcion:"SALICREM BALSAMO SPRAY X 60 ML",precio:71.61,precioDescuento:60.25,cantidadUnidades:0},{id:5,idModulo:4,orden:3,producto:"AXE B.SPLASH DARK TEMPT AER X96GR",descripcion:"AXE B.SPLASH DARK TEMPT AER X96GR",precio:478.61,precioDescuento:470.61,cantidadUnidades:3}]}],modulos:[],farmacias:[{id:289,nombre:"AGUIRRE LAURA MARIA",direccion:"AV. FILIPPINI 1872"},{id:5688,nombre:"AIRES DE LORENZETTI MAURICIO",direccion:"BUENOS AIRES 2296"},{id:7620,nombre:"ALEMANA DE LOPERGOLO V. Y CORDEIRO M. S.",direccion:"RIOBAMBA 1814"},{id:1050,nombre:"ALESSO ANDREA",direccion:"SARMIENTO 1296"},{id:5823,nombre:"ALQUIMIA DE DANIEL MARTIN",direccion:"CORRIENTES 2670"},{id:2733,nombre:"AMEN FARMACIA MUTUAL",direccion:"CORRIENTES 370"},{id:4294,nombre:"APOTHEKA SRL",direccion:"SAN JERONIMO 248 LOCAL 4"},{id:1255,nombre:"ARGENTA ETEL",direccion:"SAN MARTIN 4515"},{id:2777,nombre:"ARGUTTI MIRTHA",direccion:"JUAN B JUSTO 371"},{id:1256,nombre:"ASOC ESPA\xd1OLA ROSARIO",direccion:"ENTRE RIOS 701"},{id:7619,nombre:"ASOC MUTUAL 12 DE MAYO - ROSARIO",direccion:"MAIPU 1157"}],farmaciaSeleccionada:"",filtrado:"",totalAhorroGeneral_promociones:0,montoTotalGeneral_promociones:0},n.handleChange=n.handleChange.bind(Object(u.a)(n)),n.elementResultadoModulo=o.a.createRef(),n.elementNav=o.a.createRef(),n.url="http://www.kellerhoff.com.ar:84/api/",n}return Object(m.a)(t,[{key:"componentWillMount",value:function(){localStorage.setItem("l_farmacias",this.state.farmacias),localStorage.setItem("l_modulos",this.state.modulosOriginal),this.filtrarModulosApp("")}},{key:"handleChange",value:function(e){var a=this,t=this.state.farmacias.find((function(a){return String(a.id)+" - "+a.nombre===String(e.target.value)}));this.setState({farmaciaSeleccionada:t},(function(){a.elementResultadoModulo.current.actualizarCantidadEnLosModulos()}))}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"app container-fluid"},o.a.createElement("div",{className:"alert alert-primary text-center  text-uppercase"},o.a.createElement("h2",null,"Pedidos")),o.a.createElement(O,{ref:this.elementNav,handleChange:this.handleChange,filtrarModulosApp:this.filtrarModulosApp,getTotalAhorroGeneral:this.state.totalAhorroGeneral_promociones,getMontoTotalGeneral:this.state.montoTotalGeneral_promociones,farmacias:this.state.farmacias,farmacia:this.state.farmaciaSeleccionada}),o.a.createElement(A,{ref:this.elementResultadoModulo,modulos:this.state.modulos,farmacia:this.state.farmaciaSeleccionada,refreshMontoAhorroGeneral:this.refreshMontoAhorroGeneral_promociones})))}}]),t}(n.Component),M=t(11);var R=function(e){var a=o.a.createRef(),t=Object(n.useState)(0),r=Object(M.a)(t,2),c=r[0],i=r[1],l=Object(n.useState)(0),s=Object(M.a)(l,2),d=s[0],m=s[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement("br",null),o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header pedidoFarmacia-header"},o.a.createElement("h5",{className:"card-title"},String(e.farmaciaModulos.farmacia.id)+" - "+e.farmaciaModulos.farmacia.nombre)),o.a.createElement("div",{className:"card-body card-body-box-sizing"},o.a.createElement(A,{ref:a,modulos:e.farmaciaModulos.modulos,farmacia:e.farmaciaModulos.farmacia,refreshMontoAhorroGeneral:function(){i(a.current.state.montoTotalGeneral),m(a.current.state.totalAhorroGeneral)}})),o.a.createElement("div",{className:"card-footer text-muted pedidoFarmacia-footer"},o.a.createElement("div",{className:"float-left"},"                ",o.a.createElement("div",{className:"input-group "},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text font-weight-bold"},"MONTO TOTAL GENERAL")),o.a.createElement("input",{type:"text",className:"form-control","aria-describedby":"basic-addon1",readOnly:!0,value:h(c)})),o.a.createElement("div",{className:"input-group "},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text font-weight-bold"},"TOTAL GENERAL AHORRO")),o.a.createElement("input",{type:"text",className:"form-control","aria-describedby":"basic-addon1",readOnly:!0,value:h(d)}))),o.a.createElement("div",{className:"float-right"},o.a.createElement("button",{className:"btn btn-success"},"Enviar Pedido")))),o.a.createElement("br",null))};var C=function(){var e=Object(n.useState)([]),a=Object(M.a)(e,2),t=a[0],r=a[1],c=new Map;return Object(n.useEffect)((function(){var e=[],a=window.localStorage.getItem("l_pedidos")||"";""!==a&&(a=JSON.parse(a)),Array.isArray(a)||(a=[]),a.forEach((function(a){for(var t=!0,n=0;n<e.length;n++){if(g(a.modulo,a.farmacia)<=0){t=!1;break}if(e[n].farmacia.id===a.farmacia.id){e[n].modulos.push(a.modulo),t=!1;break}}if(t){var o=[];o.push(a.modulo);var r={farmacia:a.farmacia,modulos:o};e.push(r)}})),e.forEach((function(e){c.set(e.farmacia.id,o.a.createRef())})),r(e)}),[]),o.a.createElement("div",{className:"app container-fluid"},o.a.createElement("div",{className:"alert alert-primary text-center  text-uppercase"},o.a.createElement("h2",null,"Pedidos por farmacias")),o.a.createElement("div",{className:"float-right"},o.a.createElement("button",{className:"btn btn-success"},"Enviar Todos los Pedidos")),o.a.createElement("br",null),t.map((function(e,a){return o.a.createElement(R,{key:a,ref:c.get(e.farmacia.id),farmaciaModulos:e})})))},T=function(e){Object(p.a)(t,e);var a=Object(f.a)(t);function t(e){var n;return Object(d.a)(this,t),(n=a.call(this,e)).cargarDatosInicio_DesdeApi=function(){fetch(n.url+"farmacia?"+new URLSearchParams({ApNombre:"Perez, Nestor"})).then((function(e){return e.json()})).then((function(e){localStorage.setItem("l_farmacias",JSON.stringify(e))})).then((function(){return fetch(n.url+"modulo").then((function(e){return e.json()})).then((function(e){localStorage.setItem("l_modulos",JSON.stringify(e))}))})).then((function(){n.cargarDatosInicio_DesdeLocalStorage()})).catch((function(e){n.cargarDatosInicio_DesdeLocalStorage()}))},n.cargarDatosInicio_DesdeLocalStorage=function(){var e=localStorage.getItem("l_farmacias")||"";""!==e&&(e=JSON.parse(e)),Array.isArray(e)||(e=[]),n.setState({farmacias:e.slice(0,50)});var a=localStorage.getItem("l_modulos")||"";""!==a&&(a=JSON.parse(a)),Array.isArray(a)||(a=[]),n.setState({modulosOriginal:a.slice(0,100)},(function(){n.filtrarModulosApp("")}))},n.filtrarModulosApp=function(e){n.setState({filtrado:e},(function(){if(""===n.state.filtrado)n.setState({modulos:n.state.modulosOriginal});else{var e=n.state.modulosOriginal.filter((function(e){return void 0!=e.moduloDetalle.find((function(e){return String(e.producto).toUpperCase().includes(String(n.state.filtrado).toUpperCase())}))}));n.setState({modulos:e})}}))},n.state={modulosOriginal:[],modulos:[],farmacias:[],farmaciaSeleccionada:"",filtrado:""},n.handleChange=n.handleChange.bind(Object(u.a)(n)),n.elementResultadoModulo=o.a.createRef(),n.url="http://www.kellerhoff.com.ar:84/api/",n}return Object(m.a)(t,[{key:"componentWillMount",value:function(){}},{key:"handleChange",value:function(e){var a=this,t=this.state.farmacias.find((function(a){return String(a.id)===String(e.target.value)}));this.setState({farmaciaSeleccionada:t},(function(){a.elementResultadoModulo.current.actualizarCantidadEnLosModulos()}))}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"app container-fluid"},o.a.createElement("div",{className:"alert alert-primary text-center  text-uppercase"},o.a.createElement("h2",null,"Historial Pedidos"))))}}]),t}(n.Component);var y=function(){var e=Object(n.useState)([]),a=Object(M.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)(0),i=Object(M.a)(c,2),s=i[0],d=i[1],m=Object(l.f)();function u(){var e=localStorage.getItem("l_laboratorios")||"";""!==e&&(e=JSON.parse(e)),Array.isArray(e)||(e=[]),r(e)}function p(e,a){e.preventDefault();var n=s;n=0===s&&-1===a?t.length-1:s===t.length-1&&1===a?0:s+a,d(n)}return Object(n.useEffect)((function(){localStorage.setItem("l_laboratorios",JSON.stringify([{id:1,nombre:"ROEMMERS",imagen:"aroemmers.jpg"},{id:2,nombre:"GENOMMA",imagen:"agenomma.jpg"},{id:3,nombre:"DR LENOX",imagen:"aLenoxLogo09.png"},{id:4,nombre:"DENVER FARMA",imagen:"aDENVERFARMA0.png"},{id:5,nombre:"LA ROCHE POSAY",imagen:"alaroche.png"},{id:6,nombre:"SOUBEIRAN CHOBET",imagen:null},{id:7,nombre:"BAYER",imagen:"abayer.png"}])),u()}),[]),o.a.createElement("div",{className:"app container-fluid"},o.a.createElement("div",{className:"alert alert-primary text-center  text-uppercase"},o.a.createElement("h2",null,"Laboratorios")),o.a.createElement("div",{className:"carousel slide","data-ride":"carousel"},o.a.createElement("div",{className:"carousel-inner"},t.map((function(e,a){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"carousel-item ".concat(s===a?" active":""),onClick:function(e){return function(e){e.preventDefault(),m.push("/promociones")}(e)}},null==e.imagen&&o.a.createElement("img",{className:"d-block w-100 img-fluid",src:"https://nativosistemas.github.io/img/amissingthumbnail0.png",alt:e.nombre}),null!=e.imagen&&o.a.createElement("img",{className:"d-block w-100 img-fluid",src:"https://nativosistemas.github.io/img/"+e.imagen,alt:e.nombre}),o.a.createElement("div",{className:"carousel-caption d-none d-md-block"},o.a.createElement("h5",{className:"carousel-captio-h5"},e.nombre))))}))),o.a.createElement("a",{className:"carousel-control-prev",href:"#carouselExampleControls",role:"button","data-slide":"prev",onClick:function(e){return p(e,-1)}},o.a.createElement("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),o.a.createElement("span",{className:"sr-only"},"Previous")),o.a.createElement("a",{className:"carousel-control-next",href:"#carouselExampleControls",role:"button","data-slide":"next",onClick:function(e){return p(e,1)}},o.a.createElement("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),o.a.createElement("span",{className:"sr-only"},"Next"))))};var L=function(){return o.a.createElement(i.a,null,o.a.createElement("div",{className:"app container-fluid"},o.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},o.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},o.a.createElement("span",{className:"navbar-toggler-icon"})),o.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarText"},o.a.createElement("ul",{className:"navbar-nav mr-auto"},o.a.createElement("li",{className:"nav-item",activeClassName:"active"},o.a.createElement(i.b,{className:"nav-link",to:"/laboratorio","data-toggle":"collapse","data-target":".navbar-collapse.show"},"Laboratorios")),o.a.createElement("li",{className:"nav-item ",activeClassName:"active"},o.a.createElement(i.b,{className:"nav-link",to:"/promociones","data-toggle":"collapse","data-target":".navbar-collapse.show"},"Promociones ",o.a.createElement("span",{class:"sr-only"},"(current)"))),o.a.createElement("li",{className:"nav-item ",activeClassName:"active"},o.a.createElement(i.b,{className:"nav-link",to:"/pedidos","data-toggle":"collapse","data-target":".navbar-collapse.show"},"Pedidos ")),o.a.createElement("li",{className:"nav-item",activeClassName:"active"},o.a.createElement(i.b,{className:"nav-link",to:"/pedidoshistorial","data-toggle":"collapse","data-target":".navbar-collapse.show"},"Historial de pedidos")),o.a.createElement("li",{className:"nav-item",activeClassName:"active"},o.a.createElement(i.b,{className:"nav-link",to:"/sign-in","data-toggle":"collapse","data-target":".navbar-collapse.show"},"Salir"))),o.a.createElement("span",{className:"navbar-text"},o.a.createElement("u",null," Promotor/a: "),"Juan Perez"))),o.a.createElement(l.c,null,o.a.createElement(l.a,{exact:!0,path:"/",component:y}),o.a.createElement(l.a,{path:"/sign-in",component:E}),o.a.createElement(l.a,{path:"/promociones",component:S}),o.a.createElement(l.a,{path:"/pedidos",component:C}),o.a.createElement(l.a,{path:"/pedidoshistorial",component:T}),o.a.createElement(l.a,{path:"/laboratorio",component:y}))))},I=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function D(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(L,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("","/service-worker.js");I?(!function(e,a){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):D(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):D(a,e)}))}}()}},[[23,1,2]]]);
//# sourceMappingURL=main.5cd624ff.chunk.js.map