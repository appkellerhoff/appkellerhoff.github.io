(this.webpackJsonpappdk=this.webpackJsonpappdk||[]).push([[0],{23:function(e,a,t){e.exports=t(35)},28:function(e,a,t){},29:function(e,a,t){},35:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(20),l=t.n(o),c=(t(28),t(29),t(12)),i=t(1),s=t(21),m=t(7),u=t(8),d=t(11),p=t(10),f=t(9),h=function(e){Object(p.a)(t,e);var a=Object(f.a)(t);function t(e){var n;return Object(m.a)(this,t),(n=a.call(this,e)).state={name:"",password:"",loginErrors:""},n.handleSubmit=n.handleSubmit.bind(Object(d.a)(n)),n.handleChange=n.handleChange.bind(Object(d.a)(n)),n}return Object(u.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(s.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var a=this.state,t=a.name,n=a.password,r={};r.login=t,r.pass=n;var o=JSON.stringify(r);fetch("http://www.kellerhoff.com.ar:84/api/Authenticate",{method:"POST",headers:{"Content-Type":"application/json"},body:o}).then((function(e){return e.json()})).then((function(e){alert("OK"+e.apNombre)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h3",null,"Inicio sesion"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Usuario"),r.a.createElement("input",{type:"text",name:"user",className:"form-control",placeholder:"Ingrese usuario",value:this.state.user,onChange:this.handleChange,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Contrase\xf1a"),r.a.createElement("input",{type:"password",name:"password",className:"form-control",placeholder:"Ingrese contrase\xf1a",value:this.state.password,onChange:this.handleChange,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"custom-control custom-checkbox"},r.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"customCheck1"}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"customCheck1"},"Remember me"))),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block"},"Login")))}}]),t}(n.Component);function g(e){return"$"+function(e){var a=e.toFixed(2),t=e.toFixed(2),n=!1;if(a){-1!==a.toString().indexOf("-")&&(n=!0);var r=a.toString().replace("-","").split(".");if(r.length>0){r[0].length;for(var o="",l=r[0];l.length>3;)o="."+l.substr(l.length-3)+o,l=l.substring(0,l.length-3);o=l+o,t=void 0==r[1]?o:o+","+r[1]}n&&(t="-"+t)}return t}(e)}function v(e,a){var t=0;if(null===a||void 0===a||""===a)return t;var n=localStorage.getItem("l_pedidos")||"";if(null!==n&&void 0!==n&&""!==n&&(n=JSON.parse(n),Array.isArray(n)))for(var r=0;r<n.length;r++)if(String(n[r].modulo.id)===String(e.id)&&String(n[r].farmacia.id)===String(a.id)){t=n[r].cantidad;break}return t}function b(e,a){var t=e.precioDescuento;return e.isTieneEnCuentaDescuentoCliente&&null!=a&&""!=a?function(e,a){var t=0,n=a.objProducto;if(n.pro_neto)switch(n.pro_codtpopro){case"M":t=E(a.precioDescuento,n,e.cli_pordesbetmed);break;case"P":case"A":case"V":t=E(a.precioDescuento,n,e.cli_pordesnetos)}else t=E(a.precioDescuento,n,e.cli_PorcentajeDescuentoDeEspecialidadesMedicinalesDirecto);return t}(a.objCliente,e):t}function E(e,a,t){var n=t-a.pro_PorcARestarDelDtoDeCliente;n<0&&(n=0);var r=e;return r*=parseFloat(1)-n/parseFloat(100)}var N=function(e){Object(p.a)(t,e);var a=Object(f.a)(t);function t(e){var n;return Object(m.a)(this,t),(n=a.call(this,e)).refrescarCantidad=function(){var e=n.props.getCantidad(n.props.modulo);n.setState({count:e},(function(){n.RefrescarMontosAhorro()}))},n.isFarmaciaSeleccionada=function(){var e=n.props.farmacia;return 0==(null===e||void 0===e||""===e)},n.onClickAccion=function(e,a){if(e.preventDefault(),n.isFarmaciaSeleccionada()){var t=parseInt(n.state.count);if(0===t&&-1===a)return null;var r=n.props.modulo.cantidadMinimos;t===r&&-1===a?t=0:t<r&&1===a?t=r:t+=parseInt(a),n.cambiarCantidad(t)}},n.cambiarCantidad=function(e){""!==e&&null!==e||(e=0);var a=parseInt(e);n.setState({count:a},(function(){n.props.setCantidad(n.props.modulo,a),n.RefrescarMontosAhorro()}))},n.RefrescarMontosAhorro=function(){var e=0,a=0;n.props.modulo.moduloDetalle.forEach((function(t){var n=t.cantidadUnidades;0==n&&(n=1),t.precio>0&&(e+=t.precio*n),t.precioDescuento>0&&(a+=t.precioDescuento*n)}));var t=0,r=0;n.state.count>0&&(t=e*n.state.count,r=t-a*n.state.count),n.setState({montoTotal:t},(function(){n.setState({ahorroTotal:r},(function(){n.props.refreshMontoAhorroGeneral()}))}))},n.state={count:0,ahorroTotal:0,montoTotal:0},n}return Object(u.a)(t,[{key:"componentDidMount",value:function(){this.refrescarCantidad()}},{key:"render",value:function(){var e=this,a=this.props.modulo.moduloDetalle;return r.a.createElement("div",{className:this.props.isPar?"card cardModulo moduloCssPar":"card cardModulo "},r.a.createElement("div",{className:"card-body"},a.length>0&&r.a.createElement("table",{className:"table textTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Producto"),r.a.createElement("th",{className:"d-none d-sm-none d-md-table-cell",scope:"col"},"Descripci\xf3n"),r.a.createElement("th",{scope:"col"},"Precio"),r.a.createElement("th",{scope:"col"},"Precio c/ Desc."),r.a.createElement("th",{className:"d-none d-sm-none d-md-table-cell",scope:"col"},"Cant. Unid."))),r.a.createElement("tbody",null,a.map((function(a,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,a.producto),r.a.createElement("td",{className:"d-none d-sm-none d-md-table-cell"},a.descripcion),r.a.createElement("td",null,g(a.precio)),r.a.createElement("td",null,g(b(a,e.props.farmacia))),r.a.createElement("td",{className:"d-none d-sm-none d-md-table-cell"},a.cantidadUnidades))}))))),r.a.createElement("div",{className:"card-footer "},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},null!=this.props.modulo.cantidadMinimos&&r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text font-weight-bold"},"Cantidad m\xednima:")),r.a.createElement("input",{type:"number",className:"form-control","aria-describedby":"basic-addon1",value:this.props.modulo.cantidadMinimos,readOnly:!0}))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:" row justify-content-center"},r.a.createElement("div",{className:"input-group col-xs-12 col-sm-10 col-md-8 col-lg-8"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(a){return e.onClickAccion(a,-1)}},"-")),r.a.createElement("input",{type:"number",className:"form-control",placeholder:"Cantidad",value:this.state.count,onChange:function(a){return e.cambiarCantidad(a.target.value)}}),r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(a){return e.onClickAccion(a,1)}},"+"))))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"input-group "},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text font-weight-bold"},"MONTO TOTAL")),r.a.createElement("input",{type:"text",className:"form-control","aria-describedby":"basic-addon1",readOnly:!0,value:g(this.state.montoTotal)})),r.a.createElement("div",{className:"input-group "},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text font-weight-bold"},"TOTAL AHORRO")),r.a.createElement("input",{type:"text",className:"form-control","aria-describedby":"basic-addon1",readOnly:!0,value:g(this.state.ahorroTotal)}))))))}}]),t}(n.Component),S=function(e){Object(p.a)(t,e);var a=Object(f.a)(t);function t(e){var n;return Object(m.a)(this,t),(n=a.call(this,e)).componentWillMount=function(){n.props.modulos.forEach((function(e){n.miMapaRefs.set(e.id,r.a.createRef())}))},n.componentWillUpdate=function(){n.miMapaRefs=new Map,n.props.modulos.forEach((function(e){n.miMapaRefs.set(e.id,r.a.createRef())}))},n.actualizarCantidadEnLosModulos=function(){n.miMapaRefs.forEach((function(e){e.current.refrescarCantidad()}))},n.getMontoTotalGeneral=function(){var e=0;return n.miMapaRefs.forEach((function(a){e+=a.current.state.montoTotal})),e},n.getTotalAhorroGeneral=function(){var e=0;return n.miMapaRefs.forEach((function(a){e+=a.current.state.ahorroTotal})),e},n.refreshMontoAhorroGeneral=function(){n.setState({totalAhorroGeneral:n.getTotalAhorroGeneral()},(function(){n.setState({montoTotalGeneral:n.getMontoTotalGeneral()},(function(){n.props.refreshMontoAhorroGeneral()}))}))},n.setCantidad=function(e,a){var t=n.props.farmacia;if(null!==t&&void 0!==t&&""!==t){var r=localStorage.getItem("l_pedidos")||"",o=!0;if(null!==r&&void 0!==r&&""!==r&&(r=JSON.parse(r)),Array.isArray(r)){for(var l=0;l<r.length;l++)if(r[l].modulo.id===e.id&&r[l].farmacia.id===t.id){o=!1,r[l].cantidad=a;break}}else r=[];if(o){var c={fechaCreacion:Date.now(),farmacia:t,modulo:e,cantidad:a};r.push(c)}localStorage.setItem("l_pedidos",JSON.stringify(r))}},n.getCantidad=function(e){var a=n.props.farmacia;return null===a||void 0===a||""===a?0:v(e,a)},n.state={totalAhorroGeneral:0,montoTotalGeneral:0},n.miMapaRefs=new Map,n}return Object(u.a)(t,[{key:"render",value:function(){var e=this,a=this.props.modulos;if(0===a.length)return null;return r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,a.map((function(a,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(N,{key:a.id,ref:e.miMapaRefs.get(a.id),isPar:parseInt(t)%2,farmacia:e.props.farmacia,modulo:a,setCantidad:e.setCantidad,getCantidad:e.getCantidad,refreshMontoAhorroGeneral:e.refreshMontoAhorroGeneral}))}))))}}]),t}(n.Component);var O=function(e){var a=Object(n.useRef)(null);return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar navbar-light bg-gradient-info"},r.a.createElement("div",{className:"row rowNavbar"},"    ",r.a.createElement("div",{className:"col"},r.a.createElement("form",{onSubmit:function(t){t.preventDefault();var n=a.current.value;e.filtrarModulosApp(n)}},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col-form-label"},"Farmacia"),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("input",{type:"text",list:"listaFarmacias",className:"form-control",onClick:function(a){a.target.value="",e.handleChange(a)},onChange:e.handleChange}),r.a.createElement("datalist",{id:"listaFarmacias"},r.a.createElement("select",{className:"form-control "},e.farmacias.map((function(e){return r.a.createElement("option",{key:e.id},String(e.id)+" - "+e.nombre)})))))),r.a.createElement("div",{className:"input-group "},r.a.createElement("input",{ref:a,type:"search",className:"form-control inputUppercase mr-sm-2",placeholder:"Filtro","aria-label":"Filtro"}),r.a.createElement("div",{className:"input-group-btn"},r.a.createElement("button",{className:"btn btn-outline-success",type:"submit"},"Busqueda"))))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"input-group "},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text font-weight-bold"},"MONTO TOTAL GENERAL")),r.a.createElement("input",{type:"text",className:"form-control","aria-describedby":"basic-addon1",readOnly:!0,value:g(e.getMontoTotalGeneral)})),r.a.createElement("div",{className:"input-group "},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text font-weight-bold"},"TOTAL GENERAL AHORRO")),r.a.createElement("input",{type:"text",className:"form-control","aria-describedby":"basic-addon1",readOnly:!0,value:g(e.getTotalAhorroGeneral)}))))))},y=function(e){Object(p.a)(t,e);var a=Object(f.a)(t);function t(e){var n;return Object(m.a)(this,t),(n=a.call(this,e)).cargarDatosInicio_DesdeApi=function(){fetch(n.url+"farmacia?"+new URLSearchParams({ApNombre:"Perez, Nestor"})).then((function(e){return e.json()})).then((function(e){localStorage.setItem("l_farmacias",JSON.stringify(e))})).then((function(){return fetch(n.url+"modulo").then((function(e){return e.json()})).then((function(e){localStorage.setItem("l_modulos",JSON.stringify(e))}))})).then((function(){n.cargarDatosInicio_DesdeLocalStorage()})).catch((function(e){n.cargarDatosInicio_DesdeLocalStorage()}))},n.cargarDatosInicio_DesdeLocalStorage=function(){var e=localStorage.getItem("l_farmacias")||"";null!==e&&void 0!==e&&""!==e&&(e=JSON.parse(e)),Array.isArray(e)||(e=[]),n.setState({farmacias:e});var a=localStorage.getItem("l_modulos")||"";null!==a&&void 0!==a&&""!==a&&(a=JSON.parse(a)),Array.isArray(a)||(a=[]);var t=n.props.match.params.cuit,r=[];r=void 0===t?a:a.filter((function(e){return String(t)===String(e.idLaboratorio)})),n.setState({modulosOriginal:r},(function(){n.filtrarModulosApp("")}))},n.filtrarModulosApp=function(e){n.setState({filtrado:e},(function(){if(""===n.state.filtrado)n.setState({modulos:n.state.modulosOriginal});else{var e=n.state.modulosOriginal.filter((function(e){return void 0!==e.moduloDetalle.find((function(e){return String(e.producto).toUpperCase().includes(String(n.state.filtrado).toUpperCase())}))}));n.setState({modulos:e})}}))},n.refreshMontoAhorroGeneral_promociones=function(){n.setState({totalAhorroGeneral_promociones:n.elementResultadoModulo.current.state.totalAhorroGeneral},n.setState({montoTotalGeneral_promociones:n.elementResultadoModulo.current.state.montoTotalGeneral}))},n.state={modulosOriginal:[],modulos:[],farmacias:[],farmaciaSeleccionada:"",filtrado:"",totalAhorroGeneral_promociones:0,montoTotalGeneral_promociones:0},n.handleChange=n.handleChange.bind(Object(d.a)(n)),n.elementResultadoModulo=r.a.createRef(),n.elementNav=r.a.createRef(),n.url="https://api.kellerhoff.com.ar/api/",n}return Object(u.a)(t,[{key:"componentWillMount",value:function(){this.cargarDatosInicio_DesdeLocalStorage(),navigator.onLine&&this.cargarDatosInicio_DesdeApi()}},{key:"handleChange",value:function(e){var a=this,t=this.state.farmacias.find((function(a){return String(a.id)+" - "+a.nombre===String(e.target.value)}));this.setState({farmaciaSeleccionada:t},(function(){a.elementResultadoModulo.current.actualizarCantidadEnLosModulos()}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"app container-fluid"},r.a.createElement("div",{className:"alert alert-primary text-center  text-uppercase"},r.a.createElement("h2",null,"Pedidos")),r.a.createElement(O,{ref:this.elementNav,handleChange:this.handleChange,filtrarModulosApp:this.filtrarModulosApp,getTotalAhorroGeneral:this.state.totalAhorroGeneral_promociones,getMontoTotalGeneral:this.state.montoTotalGeneral_promociones,farmacias:this.state.farmacias,farmacia:this.state.farmaciaSeleccionada}),r.a.createElement(S,{ref:this.elementResultadoModulo,modulos:this.state.modulos,farmacia:this.state.farmaciaSeleccionada,refreshMontoAhorroGeneral:this.refreshMontoAhorroGeneral_promociones})))}}]),t}(n.Component),C=t(6);var M=function(e){var a=r.a.createRef(),t=Object(n.useState)(0),o=Object(C.a)(t,2),l=o[0],c=o[1],i=Object(n.useState)(0),s=Object(C.a)(i,2),m=s[0],u=s[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header pedidoFarmacia-header"},r.a.createElement("h5",{className:"card-title"},String(e.farmaciaModulos.farmacia.id)+" - "+e.farmaciaModulos.farmacia.nombre)),r.a.createElement("div",{className:"card-body card-body-box-sizing"},r.a.createElement(S,{ref:a,modulos:e.farmaciaModulos.modulos,farmacia:e.farmaciaModulos.farmacia,refreshMontoAhorroGeneral:function(){c(a.current.state.montoTotalGeneral),u(a.current.state.totalAhorroGeneral)}})),r.a.createElement("div",{className:"card-footer text-muted pedidoFarmacia-footer"},r.a.createElement("div",{className:"float-left"},"                ",r.a.createElement("div",{className:"input-group "},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text font-weight-bold"},"MONTO TOTAL GENERAL")),r.a.createElement("input",{type:"text",className:"form-control","aria-describedby":"basic-addon1",readOnly:!0,value:g(l)})),r.a.createElement("div",{className:"input-group "},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text font-weight-bold"},"TOTAL GENERAL AHORRO")),r.a.createElement("input",{type:"text",className:"form-control","aria-describedby":"basic-addon1",readOnly:!0,value:g(m)}))),r.a.createElement("div",{className:"float-right"},r.a.createElement("button",{className:"btn btn-success",onClick:function(a){return function(a,t){a.preventDefault();var n={promotor:"Perez, Nestor",pedidoModulos:[]};e.farmaciaModulos.modulos.map((function(a,t){var r=v(a,e.farmaciaModulos.farmacia),o={idModulo:a.id,idFarmacia:e.farmaciaModulos.farmacia.id,cantidad:r};n.pedidoModulos.push(o)}));var r=JSON.stringify(n);fetch("https://api.kellerhoff.com.ar/api/Pedido",{method:"POST",headers:{"Content-Type":"application/json"},body:r}).then((function(e){return e.json()})).then((function(a){if(a&&"00000000-0000-0000-0000-000000000000"!==a){var t=localStorage.getItem("l_pedidos")||"";null!==t&&void 0!==t&&""!==t&&(t=JSON.parse(t)),Array.isArray(t)&&(t=t.filter((function(a){return a.farmacia.id!==e.farmaciaModulos.farmacia.id})),localStorage.setItem("l_pedidos",JSON.stringify(t))),window.location.reload(!1)}else alert("Guid "+a)}))}(a,e.farmaciaModulos.farmacia.id)}},"Enviar Pedido")))),r.a.createElement("br",null))};var A=function(){var e=Object(n.useState)([]),a=Object(C.a)(e,2),t=a[0],o=a[1],l=new Map;function c(e){var a=function(e){var a=localStorage.getItem("l_modulos")||"";null!==a&&void 0!==a&&""!==a&&(a=JSON.parse(a)),Array.isArray(a)||(a=[]);var t=a.find((function(a){return String(e.id)===String(a.id)}));return t||null}(e);return null===a?e:a}return Object(n.useEffect)((function(){var e=[],a=window.localStorage.getItem("l_pedidos")||"";""!==a&&(a=JSON.parse(a)),Array.isArray(a)||(a=[]),a.forEach((function(a){for(var t=!0,n=0;n<e.length;n++){if(a.cantidad<=0){t=!1;break}if(e[n].farmacia.id===a.farmacia.id){e[n].modulos.push(c(a.modulo)),t=!1;break}}if(t&&a.cantidad>0){var r=[];r.push(c(a.modulo));var o={farmacia:a.farmacia,modulos:r};e.push(o)}})),e.forEach((function(e){l.set(e.farmacia.id,r.a.createRef())})),o(e)}),[]),r.a.createElement("div",{className:"app container-fluid"},r.a.createElement("div",{className:"alert alert-primary text-center  text-uppercase"},r.a.createElement("h2",null,"Pedidos por farmacias")),r.a.createElement("div",{className:"float-right"},r.a.createElement("button",{className:"btn btn-success",onClick:function(e){return function(e){e.preventDefault();var a={promotor:"Perez, Nestor",pedidoModulos:[]};t.map((function(e,t){e.modulos.map((function(t,n){var r=v(t,e.farmacia),o={idModulo:t.id,idFarmacia:e.farmacia.id,cantidad:r};a.pedidoModulos.push(o)}))}));var n=JSON.stringify(a);fetch("https://api.kellerhoff.com.ar/api/Pedido",{method:"POST",headers:{"Content-Type":"application/json"},body:n}).then((function(e){return e.json()})).then((function(e){e&&"00000000-0000-0000-0000-000000000000"!==e?(localStorage.setItem("l_pedidos",JSON.stringify([])),window.location.reload(!1)):alert("Guid "+e)}))}(e)}},"Enviar Todos los Pedidos")),r.a.createElement("br",null),t.map((function(e,a){return r.a.createElement(M,{key:a,ref:l.get(e.farmacia.id),farmaciaModulos:e})})))},k=function(e){Object(p.a)(t,e);var a=Object(f.a)(t);function t(e){var n;return Object(m.a)(this,t),(n=a.call(this,e)).cargarDatosInicio_DesdeApi=function(){fetch(n.url+"farmacia?"+new URLSearchParams({ApNombre:"Perez, Nestor"})).then((function(e){return e.json()})).then((function(e){localStorage.setItem("l_farmacias",JSON.stringify(e))})).then((function(){return fetch(n.url+"modulo").then((function(e){return e.json()})).then((function(e){localStorage.setItem("l_modulos",JSON.stringify(e))}))})).then((function(){n.cargarDatosInicio_DesdeLocalStorage()})).catch((function(e){n.cargarDatosInicio_DesdeLocalStorage()}))},n.cargarDatosInicio_DesdeLocalStorage=function(){var e=localStorage.getItem("l_farmacias")||"";""!==e&&(e=JSON.parse(e)),Array.isArray(e)||(e=[]),n.setState({farmacias:e.slice(0,50)});var a=localStorage.getItem("l_modulos")||"";""!==a&&(a=JSON.parse(a)),Array.isArray(a)||(a=[]),n.setState({modulosOriginal:a.slice(0,100)},(function(){n.filtrarModulosApp("")}))},n.filtrarModulosApp=function(e){n.setState({filtrado:e},(function(){if(""===n.state.filtrado)n.setState({modulos:n.state.modulosOriginal});else{var e=n.state.modulosOriginal.filter((function(e){return void 0!=e.moduloDetalle.find((function(e){return String(e.producto).toUpperCase().includes(String(n.state.filtrado).toUpperCase())}))}));n.setState({modulos:e})}}))},n.state={modulosOriginal:[],modulos:[],farmacias:[],farmaciaSeleccionada:"",filtrado:""},n.handleChange=n.handleChange.bind(Object(d.a)(n)),n.elementResultadoModulo=r.a.createRef(),n.url="http://www.kellerhoff.com.ar:84/api/",n}return Object(u.a)(t,[{key:"componentWillMount",value:function(){}},{key:"handleChange",value:function(e){var a=this,t=this.state.farmacias.find((function(a){return String(a.id)===String(e.target.value)}));this.setState({farmaciaSeleccionada:t},(function(){a.elementResultadoModulo.current.actualizarCantidadEnLosModulos()}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"app container-fluid"},r.a.createElement("div",{className:"alert alert-primary text-center  text-uppercase"},r.a.createElement("h2",null,"Historial Pedidos"))))}}]),t}(n.Component);var j=function(){var e=Object(n.useState)([]),a=Object(C.a)(e,2),t=a[0],o=a[1],l=Object(n.useState)(0),c=Object(C.a)(l,2),s=c[0],m=c[1],u=Object(n.useState)(!1),d=Object(C.a)(u,2),p=d[0],f=d[1],h=Object(n.useState)(!1),g=Object(C.a)(h,2),v=g[0],b=(g[1],Object(n.useState)(!0)),E=Object(C.a)(b,2),N=E[0],S=(E[1],"https://api.kellerhoff.com.ar/api/"),O=Object(i.f)();function y(){var e=localStorage.getItem("l_laboratorios")||"";""!==e&&(e=JSON.parse(e)),Array.isArray(e)||(e=[]),o(e)}function M(e,a){e.preventDefault();var n=s;n=0===s&&-1===a?t.length-1:s===t.length-1&&1===a?0:s+a,m(n)}function A(e,a){e.preventDefault(),O.push("/promociones/"+a)}return Object(n.useEffect)((function(){y(),navigator.onLine&&fetch(S+"Laboratorio").then((function(e){return e.json()})).then((function(e){localStorage.setItem("l_laboratorios",JSON.stringify(e))})).then((function(){y()})).catch((function(e){y()}))}),[]),r.a.createElement("div",{className:"app container-fluid"},r.a.createElement("div",{className:"alert alert-primary text-center  text-uppercase"},r.a.createElement("h2",null,"Laboratorios")),r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"checkModoCarrusel",checked:p,onClick:function(){return f(!p)}}),r.a.createElement("label",{className:"form-check-label",for:"checkModoCarrusel"},"Carrusel")),!p&&r.a.createElement("div",{className:"row"},t.map((function(e,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-4",onClick:function(a){return A(a,e.id)}},null==e.imagen&&r.a.createElement("img",{className:"d-block w-100 img-fluid",src:S+"Image?r=laboratorio&n=amissingthumbnail0.png&an=400&al=400&c=FFFFFF",alt:e.nombre}),null!=e.imagen&&r.a.createElement("img",{className:"d-block w-100 img-fluid",src:S+"Image?r=laboratorio&n="+e.imagen+"&an=400&al=400&c=FFFFFF",alt:e.nombre}),v&&r.a.createElement("div",{className:"carousel-caption d-none d-md-block"},r.a.createElement("h5",{className:"carousel-captio-h5"},e.nombre))))}))),p&&r.a.createElement("div",{className:"carousel slide","data-ride":"carousel"},r.a.createElement("div",{className:"carousel-inner"},t.map((function(e,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"carousel-item ".concat(s===a?" active":""),onClick:function(a){return A(a,e.id)}},null==e.imagen&&r.a.createElement("img",{className:"d-block w-100 img-fluid",src:S+"Image?r=laboratorio&n=amissingthumbnail0.png&an=1280&al=950&c=FFFFFF",alt:e.nombre}),null!=e.imagen&&r.a.createElement("img",{className:"d-block w-100 img-fluid",src:S+"Image?r=laboratorio&n="+e.imagen+"&an=1280&al=950&c=FFFFFF",alt:e.nombre}),v&&r.a.createElement("div",{className:"carousel-caption d-none d-md-block"},r.a.createElement("h5",{className:"carousel-captio-h5"},e.nombre))))}))),N&&r.a.createElement("a",{className:"carousel-control-prev",href:"#carouselExampleControls",role:"button","data-slide":"prev",onClick:function(e){return M(e,-1)}},r.a.createElement("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),r.a.createElement("span",{className:"sr-only"},"Previous")),N&&r.a.createElement("a",{className:"carousel-control-next",href:"#carouselExampleControls",role:"button","data-slide":"next",onClick:function(e){return M(e,1)}},r.a.createElement("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),r.a.createElement("span",{className:"sr-only"},"Next"))))};var w=function(){return r.a.createElement(c.a,null,r.a.createElement("div",{className:"app container-fluid"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("a",{className:"navbar-brand",href:"#"},r.a.createElement("img",{src:"img/logo2.png",alt:"",width:"213",height:"47",className:"d-inline-block align-top"})),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarText"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item",activeClassName:"active"},r.a.createElement(c.b,{className:"nav-link",to:"/laboratorio","data-toggle":"collapse","data-target":".navbar-collapse.show"},"Laboratorios")),r.a.createElement("li",{className:"nav-item ",activeClassName:"active"},r.a.createElement(c.b,{className:"nav-link",to:"/promociones","data-toggle":"collapse","data-target":".navbar-collapse.show"},"Promociones ",r.a.createElement("span",{class:"sr-only"},"(current)"))),r.a.createElement("li",{className:"nav-item ",activeClassName:"active"},r.a.createElement(c.b,{className:"nav-link",to:"/pedidos","data-toggle":"collapse","data-target":".navbar-collapse.show"},"Pedidos ")),r.a.createElement("li",{className:"nav-item",activeClassName:"active"},r.a.createElement(c.b,{className:"nav-link",to:"/pedidoshistorial","data-toggle":"collapse","data-target":".navbar-collapse.show"},"Historial de pedidos")),r.a.createElement("li",{className:"nav-item",activeClassName:"active"},r.a.createElement(c.b,{className:"nav-link",to:"/sign-in","data-toggle":"collapse","data-target":".navbar-collapse.show"},"Salir"))),r.a.createElement("span",{className:"navbar-text"},r.a.createElement("u",null," Promotor/a: "),"Juan Perez"))),r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:j}),r.a.createElement(i.a,{path:"/sign-in",component:h}),r.a.createElement(i.a,{path:"/promociones/:cuit",component:y}),r.a.createElement(i.a,{path:"/promociones",component:y}),r.a.createElement(i.a,{path:"/pedidos",component:A}),r.a.createElement(i.a,{path:"/pedidoshistorial",component:k}),r.a.createElement(i.a,{path:"/laboratorio",component:j}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.b5a3c39e.chunk.js.map